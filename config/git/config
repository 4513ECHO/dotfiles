[user]
  name = 4513ECHO
  email = 4513echo@gmail.com

[core]
  # editor = vim
  editor = nvim
  quotepath = false
  commentChar = ";"
  # pager = vim -
  hooksPath = ~/.config/git/hooks

[pager]
  diff = gitdiff.sh | less -R
  log = gitdiff.sh | less -R
  show = gitdiff.sh | less -R

[color]
  ui = auto
  diff = auto
  status = auto
  branch = auto

[init]
  defaultBranch = main

[push]
  default = simple

[pull]
  rebase = false
  ff = only

[status]
  showUntrackedFiles = all

[commit]
  template = ~/.config/git/commit_template
  verbose = true

[url "git@github.com:"]
  insteadOf = github:
  pushInsteadOf = https://github.com/

[diff]
  tool = vimdiff
  algorithm = histogram
  compactionHeuristic = true
  colorMoved = dimmed-zebra
  colorMovedWS = allow-indentation-change

[difftool]
  prompt = false

[merge]
  conflictstyle = diff3
  ff = false

[fetch]
  prune = true

[rebase]
  autostash = true

[alias]
  ### command abbrev ###
  adn = add --intent-to-add # -N
  adp = add --patch # -p
  adu = add --update # -u
  br = branch
  cm = commit
  cmm = commit -m
  co = checkout
  # com = !git checkout "$(git defaultBranch)"
  com = !git switch "$(git defaultBranch)"
  df = diff
  dft = difftool
  pl = pull
  ps = push
  shorts = status --short --branch
  st = status
  stat = diff --stat
  sw = switch
  ### feature shortcut ###
  all-files = !git ls-files
  alias = !git config --get-regexp "^alias" | sed 's@alias\\.\\(\\S*\\) \\(.*\\)@\\1\\\t -> \\2@'
  colorst = !git -c color.status=always status --short --branch
  contributors = shortlog --summary --numbered --email
  defaultBranch = !git symbolic-ref refs/remotes/origin/HEAD | sed "s@refs/remotes/origin/@@"
  dirs = !git ls-files | sed -e "/^[^\\/]*$/d" -e "s:/[^/]*$::" | uniq
  fixit = commit --amend --no-edit
  graph = log --graph --date=short --decorate=short --pretty=format:'%Cgreen%h %Creset%cd %Cblue%cn %Cred%d %Creset%s'
  hash = rev-parse --short HEAD
  ignored = !git status --ignored --short | awk '$1 == \"!!\" {print $2}'
  latest = describe --tags --abbrev=0
  undo = !git reset --hard $(git reflog --color=always | fzf --ansi | awk '{print substr($2, 1, length($2)-1)})'
  upstream = !git pull upstream "$(git defaultBranch)"
  pwd = !pwd
  recommit = commit --amend
  root = rev-parse --show-toplevel
  uncommit = reset --soft HEAD^
  unstage = restore --staged
  untrack = rm --cached
  set-remote = !"f(){ \
    git remote add origin $1; \
    git pull --set-upstream origin ${2:-main}; \
  };f"

[ghq]
  root = ~/Develops

[include]
  path = ~/.gitconfig.local
  path = ./delta.gitconfig

# vim:ft=gitconfig
