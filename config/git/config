[user]
  name = 4513ECHO
  email = 4513echo@gmail.com

[include]
  path = ~/.gitconfig.local
  path = ./delta.gitconfig

[core]
  # editor = vim
  editor = nvim
  quotepath = false
  commentChar = ";"
  # pager = vim -
  hooksPath = ~/.config/git/hooks

[pager]
  diff = gitdiff.sh | less -R
  log = gitdiff.sh | less -R
  show = gitdiff.sh | less -R

[color]
  ui = auto
  diff = auto
  status = auto
  branch = auto

[init]
  defaultBranch = main

[push]
  default = simple

[pull]
  rebase = false

[status]
  showUntrackedFiles = all

[commit]
  template = ~/.config/git/commit_template
  verbose = true

[url "git@github.com:"]
  insteadOf = github:
  pushInsteadOf = https://github.com/

[diff]
  tool = vimdiff
  algorithm = histogram
  compactionHeuristic = true
  colorMoved = dimmed-zebra
  colorMovedWS = allow-indentation-change

[difftool]
  prompt = false

[merge]
  conflictstyle = diff3

[alias]
  ### command abbrev ###
  adn = add -N
  adp = add -p
  adu = add -u
  br = branch
  # cl = clone
  cl = !ghq get
  cm = commit
  cmm = commit -m
  co = checkout
  com = !git checkout $(git defaultBranch)
  df = diff
  dft = difftool
  pl = pull
  ps = push
  shorts = status -s -b
  st = status
  stat = diff --stat
  ### feature shortcut ###
  all-files = !git ls-files
  alias = !git config --get-regexp "^alias" | sed 's:alias\\.\\([^ ]*\\) \\(.*\\):\\1\\\t -> \\2:' | cut -c 1-46 | sort
  color = !git -c color.status=always
  defaultBranch = !git symbolic-ref refs/remotes/origin/HEAD | sed 's@refs/remotes/origin/@@'
  dirs = !git ls-files | sed -e "/^[^\\/]*$/d" -e "s:/[^/]*$::" | uniq
  graph = log --graph --date=short --decorate=short --pretty=format:'%Cgreen%h %Creset%cd %Cblue%cn %Cred%d %Creset%s'
  hash = rev-parse --short HEAD
  history = reflog
  latest = describe --tags --abbrev=0
  upstream = !git pull upstream "$(git defaultBranch)"
  pwd = !pwd
  root = rev-parse --show-toplevel
  uncommit = reset --soft HEAD^
  unstage = restore --staged
  untrack = rm --cached
  set-remote = !"f(){ \
    git remote add origin $1; \
    git pull --set-upstream origin ${2:-main}; \
  };f"

[ghq]
  root = ~/Develops

# vim:ft=gitconfig
