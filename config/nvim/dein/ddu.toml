[[plugins]]
repo = 'Shougo/ddu.vim'
depends = ['denops.vim']
on_func = ['ddu#start']
hook_add = '''
let g:launcher_config.ddu = #{
      \ char: 'd',
      \ run: { -> ddu#start(#{ sources: [#{ name: 'source' }] }) },
      \ }
nnoremap <Leader>d <Cmd>Ddu -resume<CR>
inoremap <C-x><C-e> <Cmd>call ddu#start(#{
      \ sources: [
      \   #{ name: 'emoji', options: #{ defaultAction: 'feedkeys' } },
      \ ],
      \ uiParams: #{
      \   ff: #{ replaceCol: col('.') },
      \ },
      \ })<CR>
'''
hook_source = '''
Runtime dein/settings/ddu.vim
'''

[plugins.ftplugin]
ddu-ff = '''
setlocal cursorline
nnoremap <buffer> <CR>
      \ <Cmd>call ddu#ui#ff#do_action('itemAction')<CR>
nnoremap <buffer> <Space>
      \ <Cmd>call ddu#ui#ff#do_action('toggleSelectItem')<CR>
xnoremap <buffer><silent> <Space>
      \ :call ddu#ui#ff#do_action('toggleSelectItem')<CR>
nnoremap <buffer> A
      \ <Cmd>call ddu#ui#ff#do_action('toggleAllItems')<CR>
nnoremap <buffer> C
      \ <Cmd>call ddu#ui#ff#do_action('clearSelectAllItems')<CR>
nnoremap <buffer> i
      \ <Cmd>call ddu#ui#ff#do_action('openFilterWindow')<CR>
nnoremap <buffer> <Tab>
      \ <Cmd>call ddu#ui#ff#do_action('chooseAction')<CR>
nnoremap <buffer> <C-l>
      \ <Cmd>call ddu#ui#ff#do_action('refreshItems')<Bar>redraw<CR>
nnoremap <buffer> p
      \ <Cmd>call ddu#ui#ff#do_action('preview')<CR>
nnoremap <buffer> q
      \ <Cmd>call ddu#ui#ff#do_action('quit')<CR>
nnoremap <buffer> E
      \ <Cmd>call ddu#ui#ff#do_action('itemAction',
      \ #{ params: eval(input('params: ', "#{}\<lt>Left>")) })<CR>
'''

ddu-ff-filter = '''
setlocal nocursorline
nnoremap <buffer> q     <Cmd>call ddu#ui#ff#close()<CR>
nnoremap <buffer> <CR>  <Cmd>call ddu#ui#ff#close()<CR>
inoremap <buffer> <CR>  <Esc><Cmd>call ddu#ui#ff#do_action('itemAction')<CR>
inoremap <buffer> <C-c> <Esc><Cmd>call ddu#ui#ff#close()<CR>
inoremap <buffer> <C-n>
      \ <Cmd>call ddu#ui#ff#execute("call cursor(line('.')+1,0)<Bar>redraw")<CR>
inoremap <buffer> <C-p>
      \ <Cmd>call ddu#ui#ff#execute("call cursor(line('.')-1,0)<Bar>redraw")<CR>
'''

[[plugins]]
repo = 'Shougo/ddu-commands.vim'
depends = ['ddu.vim']
lazy = true
on_cmd = ['Ddu']

# UI

[[plugins]]
repo = 'Shougo/ddu-ui-ff'
on_source = 'ddu.vim'

# filters

[[plugins]]
repo = 'Shougo/ddu-filter-matcher_hidden'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-filter-matcher_relative'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-filter-matcher_substring'
on_source = 'ddu.vim'

[[plugins]]
repo = 'yuki-yano/ddu-filter-fzf'
on_source = 'ddu.vim'

# kinds

[[plugins]]
repo = '4513echo/ddu-kind-url'
depends = ['open-browser.vim']
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-kind-file'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-kind-word'
on_source = 'ddu.vim'

# sources

[[plugins]]
repo = '4513echo/ddu-source-colorscheme'
on_source = 'ddu.vim'

[[plugins]]
repo = '4513echo/ddu-source-emoji'
on_source = 'ddu.vim'

[[plugins]]
repo = '4513echo/ddu-source-ghq'
on_source = 'ddu.vim'

[[plugins]]
repo = '4513echo/ddu-source-source'
on_source = 'ddu.vim'

[[plugins]]
repo = 'kuuote/ddu-source-mr'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-source-action'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-source-file'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-source-file_rec'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-source-line'
on_source = 'ddu.vim'

[[plugins]]
repo = 'Shougo/ddu-source-register'
on_source = 'ddu.vim'

[[plugins]]
repo = 'liquidz/ddu-source-custom-list'
on_source = 'ddu.vim'

[[plugins]]
repo = 'matsui54/ddu-source-dein_update'
on_source = 'ddu.vim'

[[plugins]]
repo = 'matsui54/ddu-source-file_external'
on_source = 'ddu.vim'

[[plugins]]
repo = 'matsui54/ddu-source-command_history'
on_source = 'ddu.vim'

[[plugins]]
repo = 'matsui54/ddu-source-help'
on_source = 'ddu.vim'

[[plugins]]
repo = 'matsui54/ddu-source-man'
on_source = 'ddu.vim'

[[plugins]]
repo = 'shun/ddu-source-buffer'
on_source = 'ddu.vim'

[[plugins]]
repo = 'shun/ddu-source-rg'
on_source = 'ddu.vim'

